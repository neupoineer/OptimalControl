-- 选择 OptimalControl 数据库
Use [OptimalControl]
Go

INSERT INTO [Rules]([Name],[Expression],[Operation],[Period],[State],[Priority],[Type],[IsLogged])
     VALUES
('半自磨电量单耗','[@半自磨原矿量]>0','[@半自磨电量单耗]=([@半自磨功率])/[@半自磨原矿量]','0','true','0','true','false'),

('功率过载保护','[@半自磨功率]>9300','[@优化软件使能]=0','5','true','1','true','true'),
('压力过载保护','([@半自磨进料端压力]>6.2)|([@半自磨出料端压力]>6)','[@优化软件使能]=0','5','true','1','true','true'),
('负荷过载保护','[@半自磨负荷]<100','[@优化软件使能]=0','5','false','1','true','true'),
('给水不足保护','[@半自磨给水量]<200','[@优化软件使能]=0','5','true','1','true','true'),
('顽石过载保护','[@半自磨顽石产生量]>350','[@优化软件使能]=0','5','false','1','true','true'),
('衬板磨损保护','[@半自磨磨音]<0.85','[@优化软件使能]=0','5','false','1','true','true'),
('给矿上限保护','[@给矿量优化设定值]>1300','[@给矿量优化设定值]=1300','5','true','1','true','true'),
('给矿下限保护','[@给矿量优化设定值]<600','[@给矿量优化设定值]=600','5','true','1','true','true'),
('给水上限保护','[@前水量优化设定值]>260','[@前水量优化设定值]=260','5','true','1','true','true'),
('给水下限保护','[@前水量优化设定值]<230','[@前水量优化设定值]=230','5','true','1','true','true'),

('破碎机启动控制','([@破碎机启停状态值]-[@破碎机启停状态值.HistoryValue])>0','[@给矿量优化设定值]=[@半自磨给矿量设定值]-200','180','true','2','true','true'),
('破碎机停止控制','([@破碎机启停状态值.HistoryValue]-[@破碎机启停状态值])>0','[@给矿量优化设定值]=[@半自磨给矿量设定值]+250','180','true','2','true','true'),
('过载1','([@半自磨进料端压力.Trend]>0)&([@半自磨进料端压力.State]>0)&([@半自磨功率.Trend]<0)&([@半自磨顽石产生量.Trend]>0)','[@半自磨工作状态]=2;[@给矿量优化设定值]=[@半自磨给矿量设定值]-150','240','true','3','false','true'),
('过载2','([@半自磨进料端压力.Trend]>0)&([@半自磨进料端压力.State]>0)&([@半自磨功率.Trend]<0)&([@半自磨顽石产生量.Trend]=0)','[@半自磨工作状态]=2;[@给矿量优化设定值]=[@半自磨给矿量设定值]-150','240','true','3','false','true'),
('过载3','([@半自磨进料端压力.Trend]>0)&([@半自磨进料端压力.State]>0)&([@半自磨功率.Trend]<0)&([@半自磨顽石产生量.Trend]<0)&([@半自磨顽石产生量.State]>(0-1))','[@半自磨工作状态]=2;[@给矿量优化设定值]=[@半自磨给矿量设定值]-200','240','true','3','false','true'),
('过载4','([@半自磨进料端压力.Trend]>0)&([@半自磨进料端压力.State]>0)&([@半自磨功率.Trend]<0)&([@半自磨顽石产生量.Trend]<0)&([@半自磨顽石产生量.State]<0)','[@半自磨工作状态]=2;[@给矿量优化设定值]=[@半自磨给矿量设定值]-200','240','true','3','false','true'),
('功率过载控制','([@半自磨功率.CurrentValue]>9100)&([@半自磨功率.Trend]>(0-1))','[@半自磨工作状态]=1;[@给矿量优化设定值]=[@半自磨给矿量设定值]-100','240','true','3','false','true'),
('压力过载控制','(([@半自磨进料端压力.CurrentValue]>5.65)|([@半自磨出料端压力.CurrentValue]>5.55))&([@半自磨进料端压力.Trend]>(0-1))&([@半自磨出料端压力.Trend]>(0-1))','[@半自磨工作状态]=1;[@给矿量优化设定值]=[@半自磨给矿量设定值]-100','240','true','3','false','true'),
('磨矿浓度控制','([@半自磨总矿量.CurrentValue]/([@半自磨给水量]+[@半自磨总矿量.CurrentValue]))>0.85','[@半自磨工作状态]=1;[@给矿量优化设定值]=[@半自磨给矿量设定值]-50','180','false','3','false','true'),
('溢流浓度控制','([@1#旋流器溢流浓度.CurrentValue]>35%)|([@2#旋流器溢流浓度.CurrentValue]>35%)','[@半自磨工作状态]=1;[@给矿量优化设定值]=[@半自磨给矿量设定值]-50','180','false','3','false','true'),
('给矿过载控制','[@半自磨总矿量.CurrentValue]>1400','[@半自磨工作状态]=1;[@给矿量优化设定值]=[@半自磨给矿量设定值]-50','150','true','3','false','true'),
('过载趋势1','([@半自磨进料端压力.Trend]>0)&([@半自磨进料端压力.State]>0)&([@半自磨功率.Trend]=0)&([@半自磨功率.State]>0)&([@半自磨顽石产生量.Trend]>0)&([@半自磨顽石产生量.State]>(0-1))','[@半自磨工作状态]=1;[@给矿量优化设定值]=[@半自磨给矿量设定值]-50','180','true','3','false','true'),
('过载趋势2','([@半自磨进料端压力.Trend]>0)&([@半自磨进料端压力.State]>0)&([@半自磨功率.Trend]=0)&([@半自磨功率.State]>0)&([@半自磨顽石产生量.Trend]=0)&([@半自磨顽石产生量.State]>(0-1))','[@半自磨工作状态]=1;[@给矿量优化设定值]=[@半自磨给矿量设定值]-50','180','true','3','false','true'),
('过载趋势3','([@半自磨进料端压力.Trend]>0)&([@半自磨进料端压力.State]>0)&([@半自磨功率.Trend]=0)&([@半自磨功率.State]>0)&([@半自磨顽石产生量.Trend]<0)&([@半自磨顽石产生量.State]>(0-1))','[@半自磨工作状态]=1;[@给矿量优化设定值]=[@半自磨给矿量设定值]-75','180','true','3','false','true'),
('过载趋势4','([@半自磨进料端压力.Trend]>0)&([@半自磨进料端压力.State]>0)&([@半自磨功率.Trend]=0)&([@半自磨功率.State]>0)&([@半自磨顽石产生量.Trend]<0)&([@半自磨顽石产生量.State]<0)','[@半自磨工作状态]=1;[@给矿量优化设定值]=[@半自磨给矿量设定值]-75','180','true','3','false','true'),
('过载趋势5','([@半自磨进料端压力.Trend]>0)&([@半自磨进料端压力.State]>0)&([@半自磨功率.Trend]=0)&([@半自磨功率.State]<1)','[@半自磨工作状态]=1','0','true','3','false','false'),
('过载趋势6','([@半自磨进料端压力.Trend]>0)&([@半自磨进料端压力.State]=0)&([@半自磨功率.Trend]=0)&([@半自磨功率.State]>0)','[@半自磨工作状态]=1','0','true','3','false','false'),
('过载趋势7','([@半自磨进料端压力.Trend]>0)&([@半自磨进料端压力.State]=0)&([@半自磨功率.Trend]=0)&([@半自磨功率.State]=0)','[@半自磨工作状态]=1','0','true','3','false','false'),
('过载趋势8','([@半自磨进料端压力.Trend]>0)&([@半自磨进料端压力.State]>0)&([@半自磨功率.Trend]>0)&([@半自磨功率.State]>(0-1))&([@半自磨顽石产生量.Trend]>0)&([@半自磨顽石产生量.State]>(0-1))','[@半自磨工作状态]=1;[@给矿量优化设定值]=[@半自磨给矿量设定值]-50','180','true','3','false','true'),
('过载趋势9','([@半自磨进料端压力.Trend]>0)&([@半自磨进料端压力.State]>0)&([@半自磨功率.Trend]>0)&([@半自磨功率.State]>(0-1))&([@半自磨顽石产生量.Trend]=0)&([@半自磨顽石产生量.State]>(0-1))','[@半自磨工作状态]=1;[@给矿量优化设定值]=[@半自磨给矿量设定值]-50','180','true','3','false','true'),
('过载趋势10','([@半自磨进料端压力.Trend]>0)&([@半自磨进料端压力.State]>0)&([@半自磨功率.Trend]>0)&([@半自磨功率.State]>(0-1))&([@半自磨顽石产生量.Trend]<0)&([@半自磨顽石产生量.State]>(0-1))','[@半自磨工作状态]=1;[@前水量优化设定值]=[@半自磨给水量设定值]+20','180','true','3','false','true'),
('过载趋势11','([@半自磨进料端压力.Trend]>0)&([@半自磨进料端压力.State]>0)&([@半自磨功率.Trend]>0)&([@半自磨功率.State]>(0-1))&([@半自磨顽石产生量.Trend]<0)&([@半自磨顽石产生量.State]<0)','[@半自磨工作状态]=1;[@给矿量优化设定值]=[@半自磨给矿量设定值]-50','180','true','3','false','true'),
('过载趋势12','([@半自磨进料端压力.Trend]>0)&([@半自磨进料端压力.State]=0)&([@半自磨功率.Trend]>0)&([@半自磨功率.State]>0)','[@半自磨工作状态]=1','0','true','3','false','false'),
('过载趋势13','([@半自磨进料端压力.Trend]>0)&([@半自磨进料端压力.State]=0)&([@半自磨功率.Trend]>0)&([@半自磨功率.State]=0)','[@半自磨工作状态]=1','0','true','3','false','false'),
('欠载1','([@半自磨进料端压力.Trend]<0)&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]<0)&([@半自磨功率.State]<1)&([@半自磨顽石产生量.Trend]>0)','[@半自磨工作状态]=(0-2);[@给矿量优化设定值]=[@半自磨给矿量设定值]+100','240','true','3','false','true'),
('欠载2','([@半自磨进料端压力.Trend]<0)&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]<0)&([@半自磨功率.State]<1)&([@半自磨顽石产生量.Trend]<1)','[@半自磨工作状态]=(0-2);[@给矿量优化设定值]=[@半自磨给矿量设定值]+100','240','true','3','false','true'),
('欠载趋势1','([@半自磨进料端压力.Trend]<0)&([@半自磨进料端压力.State]>0)&([@半自磨功率.Trend]<0)&([@半自磨顽石产生量.Trend]>0)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+50','180','true','3','false','true'),
('欠载趋势2','([@半自磨进料端压力.Trend]<0)&([@半自磨进料端压力.State]>0)&([@半自磨功率.Trend]<0)&([@半自磨顽石产生量.Trend]<1)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+50','180','true','3','false','true'),
('欠载趋势3','([@半自磨进料端压力.Trend]<0)&([@半自磨功率.Trend]<0)&([@半自磨功率.State]>0)&([@半自磨顽石产生量.Trend]>0)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+50','180','true','3','false','true'),
('欠载趋势4','([@半自磨进料端压力.Trend]<0)&([@半自磨功率.Trend]<0)&([@半自磨功率.State]>0)&([@半自磨顽石产生量.Trend]<1)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+50','180','true','3','false','true'),
('欠载趋势5','([@半自磨进料端压力.Trend]>(0-1))&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]<0)&([@半自磨顽石产生量.Trend]>0)','[@半自磨工作状态]=(0-1)','0','true','3','false','false'),
('欠载趋势6','([@半自磨进料端压力.Trend]>(0-1))&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]<0)&([@半自磨顽石产生量.Trend]=0)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+50','180','true','3','false','true'),
('欠载趋势7','([@半自磨进料端压力.Trend]>(0-1))&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]<0)&([@半自磨顽石产生量.Trend]<0)&([@半自磨顽石产生量.State]>(0-1))','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+50','180','true','3','false','true'),
('欠载趋势8','([@半自磨进料端压力.Trend]>(0-1))&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]<0)&([@半自磨顽石产生量.Trend]<0)&([@半自磨顽石产生量.State]<0)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+50','180','true','3','false','true'),
('欠载趋势9','([@半自磨进料端压力.Trend]=0)&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]>0)&([@半自磨功率.State]<0)&([@半自磨顽石产生量.Trend]>0)&([@半自磨顽石产生量.State]>0)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+50','180','true','3','false','true'),
('欠载趋势10','([@半自磨进料端压力.Trend]=0)&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]>0)&([@半自磨功率.State]<0)&([@半自磨顽石产生量.Trend]>0)&([@半自磨顽石产生量.State]<1)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+30','150','true','3','false','true'),
('欠载趋势11','([@半自磨进料端压力.Trend]=0)&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]>0)&([@半自磨功率.State]<0)&([@半自磨顽石产生量.Trend]=0)&([@半自磨顽石产生量.State]>0)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+30','150','true','3','false','true'),
('欠载趋势12','([@半自磨进料端压力.Trend]=0)&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]>0)&([@半自磨功率.State]<0)&([@半自磨顽石产生量.Trend]=0)&([@半自磨顽石产生量.State]<1)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+50','180','true','3','false','true'),
('欠载趋势13','([@半自磨进料端压力.Trend]=0)&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]>0)&([@半自磨功率.State]<0)&([@半自磨顽石产生量.Trend]<0)&([@半自磨顽石产生量.State]<1)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+50','180','true','3','false','true'),
('欠载趋势14','([@半自磨进料端压力.Trend]=0)&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]=0)&([@半自磨功率.State]<0)&([@半自磨顽石产生量.Trend]>0)&([@半自磨顽石产生量.State]>0)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+50','180','true','3','false','true'),
('欠载趋势15','([@半自磨进料端压力.Trend]=0)&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]=0)&([@半自磨功率.State]<0)&([@半自磨顽石产生量.Trend]>0)&([@半自磨顽石产生量.State]<1)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+30','150','true','3','false','true'),
('欠载趋势16','([@半自磨进料端压力.Trend]=0)&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]=0)&([@半自磨功率.State]<0)&([@半自磨顽石产生量.Trend]<1)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+50','180','true','3','false','true'),
('欠载趋势17','([@半自磨进料端压力.Trend]<0)&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]>0)&([@半自磨功率.State]<1)&([@半自磨顽石产生量.Trend]>0)&([@半自磨顽石产生量.State]>0)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+50','180','true','3','false','true'),
('欠载趋势18','([@半自磨进料端压力.Trend]<0)&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]>0)&([@半自磨功率.State]<1)&([@半自磨顽石产生量.Trend]>0)&([@半自磨顽石产生量.State]=0)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+50','180','true','3','false','true'),
('欠载趋势19','([@半自磨进料端压力.Trend]<0)&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]>0)&([@半自磨功率.State]<1)&([@半自磨顽石产生量.Trend]=0)&([@半自磨顽石产生量.State]>0)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+50','180','true','3','false','true'),
('欠载趋势20','([@半自磨进料端压力.Trend]<0)&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]>0)&([@半自磨功率.State]<1)&([@半自磨顽石产生量.Trend]=0)&([@半自磨顽石产生量.State]=0)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+50','180','true','3','false','true'),
('欠载趋势21','([@半自磨进料端压力.Trend]<0)&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]>0)&([@半自磨功率.State]<1)&([@半自磨顽石产生量.Trend]<0)&([@半自磨顽石产生量.State]<1)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+50','180','true','3','false','true'),
('欠载趋势22','([@半自磨进料端压力.Trend]<0)&([@半自磨进料端压力.State]=0)&([@半自磨功率.Trend]>0)&([@半自磨功率.State]>0)','[@半自磨工作状态]=(0-1)','0','true','3','false','false'),
('欠载趋势23','([@半自磨进料端压力.Trend]<0)&([@半自磨进料端压力.State]<0)&([@半自磨功率.Trend]>0)&([@半自磨功率.State]>0)','[@半自磨工作状态]=(0-1)','0','true','3','false','false'),
('欠载趋势24','([@半自磨进料端压力.Trend]<0)&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]=0)&([@半自磨功率.State]<1)&([@半自磨顽石产生量.Trend]>0)&([@半自磨顽石产生量.State]>0)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+50','180','true','3','false','true'),
('欠载趋势25','([@半自磨进料端压力.Trend]<0)&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]=0)&([@半自磨功率.State]<1)&([@半自磨顽石产生量.Trend]>0)&([@半自磨顽石产生量.State]=0)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+50','180','true','3','false','true'),
('欠载趋势26','([@半自磨进料端压力.Trend]<0)&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]=0)&([@半自磨功率.State]<1)&([@半自磨顽石产生量.Trend]=0)&([@半自磨顽石产生量.State]>0)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+50','180','true','3','false','true'),
('欠载趋势27','([@半自磨进料端压力.Trend]<0)&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]=0)&([@半自磨功率.State]<1)&([@半自磨顽石产生量.Trend]=0)&([@半自磨顽石产生量.State]=0)','[@半自磨工作状态]=(0-1);[@给矿量优化设定值]=[@半自磨给矿量设定值]+50','180','true','3','false','true'),
('欠载趋势28','([@半自磨进料端压力.Trend]<0)&([@半自磨进料端压力.State]<1)&([@半自磨功率.Trend]=0)&([@半自磨功率.State]<1)&([@半自磨顽石产生量.Trend]<0)&([@半自磨顽石产生量.State]>0)','[@半自磨工作状态]=(0-1)','0','true','3','false','false'),
('欠载趋势29','([@半自磨进料端压力.Trend]<0)&([@半自磨进料端压力.State]=0)&([@半自磨功率.Trend]=0)&([@半自磨功率.State]>0)','[@半自磨工作状态]=(0-1)','0','true','3','false','false'),
('欠载趋势30','([@半自磨进料端压力.Trend]<0)&([@半自磨进料端压力.State]<0)&([@半自磨功率.Trend]=0)&([@半自磨功率.State]>0)','[@半自磨工作状态]=(0-1)','0','true','3','false','false'),
('稳定','([@半自磨进料端压力.Trend]=0)&([@半自磨功率.Trend]=0)&([@半自磨顽石产生量.Trend]=0)','[@半自磨工作状态]=0','0','true','3','false','false'),
('过渡1','([@半自磨进料端压力.Trend]>0)&([@半自磨进料端压力.State]=0)&([@半自磨功率.Trend]=0)&([@半自磨功率.State]<0)','[@半自磨工作状态]=0','0','true','3','false','false'),
('过渡2','([@半自磨进料端压力.Trend]>0)&([@半自磨进料端压力.State]<0)','[@半自磨工作状态]=0','0','true','3','false','false'),
('过渡3','([@半自磨进料端压力.Trend]>0)&([@半自磨功率.Trend]>0)&([@半自磨功率.State]<0)','[@半自磨工作状态]=0','0','true','3','false','false'),
('过渡4','([@半自磨进料端压力.Trend]<0)&([@半自磨进料端压力.State]>0)&([@半自磨功率.Trend]>0)','[@半自磨工作状态]=0','0','true','3','false','false'),
('过渡5','([@半自磨进料端压力.Trend]<0)&([@半自磨进料端压力.State]>0)&([@半自磨功率.Trend]=0)','[@半自磨工作状态]=0','0','true','3','false','false')

GO
